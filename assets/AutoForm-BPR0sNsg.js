import{R as V,r as U,j as p}from"./iframe-CK_zX8fh.js";var ge=e=>e.type==="checkbox",ie=e=>e instanceof Date,z=e=>e==null;const dt=e=>typeof e=="object";var O=e=>!z(e)&&!Array.isArray(e)&&dt(e)&&!ie(e),Lt=e=>O(e)&&e.target?ge(e.target)?e.target.checked:e.target.value:e,Mt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Wt=(e,s)=>e.has(Mt(s)),$t=e=>{const s=e.constructor&&e.constructor.prototype;return O(s)&&s.hasOwnProperty("isPrototypeOf")},He=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function I(e){if(e instanceof Date)return new Date(e);const s=typeof FileList<"u"&&e instanceof FileList;if(He&&(e instanceof Blob||s))return e;const t=Array.isArray(e);if(!t&&!(O(e)&&$t(e)))return e;const n=t?[]:Object.create(Object.getPrototypeOf(e));for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=I(e[o]));return n}var be=e=>/^\w*$/.test(e),H=e=>e===void 0,Pe=e=>Array.isArray(e)?e.filter(Boolean):[],Oe=e=>Pe(e.replace(/["|']|\]/g,"").split(/\.|\[/)),y=(e,s,t)=>{if(!s||!O(e))return t;const n=(be(s)?[s]:Oe(s)).reduce((o,a)=>z(o)?o:o[a],e);return H(n)||n===e?H(e[s])?t:e[s]:n},te=e=>typeof e=="boolean",Z=e=>typeof e=="function",A=(e,s,t)=>{let n=-1;const o=be(s)?[s]:Oe(s),a=o.length,u=a-1;for(;++n<a;){const c=o[n];let g=t;if(n!==u){const v=e[c];g=O(v)||Array.isArray(v)?v:isNaN(+o[n+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=g,e=e[c]}};const Ge={BLUR:"blur",FOCUS_OUT:"focusout"},G={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},re={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},je=V.createContext(null);je.displayName="HookFormContext";const oe=()=>V.useContext(je),zt=e=>{const{children:s,...t}=e;return V.createElement(je.Provider,{value:t},s)};var Kt=(e,s,t,n=!0)=>{const o={defaultValues:s._defaultValues};for(const a in e)Object.defineProperty(o,a,{get:()=>{const u=a;return s._proxyFormState[u]!==G.all&&(s._proxyFormState[u]=!n||G.all),e[u]}});return o};const mt=typeof window<"u"?V.useLayoutEffect:V.useEffect;var Y=e=>typeof e=="string",Be=(e,s,t,n,o)=>Y(e)?(n&&s.watch.add(e),y(t,e,o)):Array.isArray(e)?e.map(a=>(n&&s.watch.add(a),y(t,a))):(n&&(s.watchAll=!0),t),De=e=>z(e)||!dt(e);function ee(e,s,t=new WeakSet){if(De(e)||De(s))return Object.is(e,s);if(ie(e)&&ie(s))return e.getTime()===s.getTime();const n=Object.keys(e),o=Object.keys(s);if(n.length!==o.length)return!1;if(t.has(e)||t.has(s))return!0;t.add(e),t.add(s);for(const a of n){const u=e[a];if(!o.includes(a))return!1;if(a!=="ref"){const c=s[a];if(ie(u)&&ie(c)||O(u)&&O(c)||Array.isArray(u)&&Array.isArray(c)?!ee(u,c,t):!Object.is(u,c))return!1}}return!0}function ft(e){const s=oe(),{control:t=s.control,name:n,defaultValue:o,disabled:a,exact:u,compute:c}=e||{},g=V.useRef(o),v=V.useRef(c),k=V.useRef(void 0),C=V.useRef(t),w=V.useRef(n);v.current=c;const[F,B]=V.useState(()=>{const D=t._getWatch(n,g.current);return v.current?v.current(D):D}),j=V.useCallback(D=>{const R=Be(n,t._names,D||t._formValues,!1,g.current);return v.current?v.current(R):R},[t._formValues,t._names,n]),M=V.useCallback(D=>{if(!a){const R=Be(n,t._names,D||t._formValues,!1,g.current);if(v.current){const E=v.current(R);ee(E,k.current)||(B(E),k.current=E)}else B(R)}},[t._formValues,t._names,a,n]);mt(()=>((C.current!==t||!ee(w.current,n))&&(C.current=t,w.current=n,M()),t._subscribe({name:n,formState:{values:!0},exact:u,callback:D=>{M(D.values)}})),[t,u,n,M]),V.useEffect(()=>t._removeUnmounted());const N=C.current!==t,T=w.current,$=V.useMemo(()=>{if(a)return null;const D=!N&&!ee(T,n);return N||D?j():null},[a,N,n,T,j]);return $!==null?$:F}var Yt=(e,s,t,n,o)=>s?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[n]:o||!0}}:{},he=e=>Array.isArray(e)?e:[e],et=()=>{let e=[];return{get observers(){return e},next:o=>{for(const a of e)a.next&&a.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(a=>a!==o)}}),unsubscribe:()=>{e=[]}}};function yt(e,s){const t={};for(const n in e)if(e.hasOwnProperty(n)){const o=e[n],a=s[n];if(o&&O(o)&&a){const u=yt(o,a);O(u)&&(t[n]=u)}else e[n]&&(t[n]=a)}return t}var W=e=>O(e)&&!Object.keys(e).length,Ne=e=>e.type==="file",Se=e=>{if(!He)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},ht=e=>e.type==="select-multiple",qe=e=>e.type==="radio",Jt=e=>qe(e)||ge(e),Ae=e=>Se(e)&&e.isConnected;function Qt(e,s){const t=s.slice(0,-1).length;let n=0;for(;n<t;)e=H(e)?n++:e[s[n++]];return e}function Xt(e){for(const s in e)if(e.hasOwnProperty(s)&&!H(e[s]))return!1;return!0}function P(e,s){const t=Array.isArray(s)?s:be(s)?[s]:Oe(s),n=t.length===1?e:Qt(e,t),o=t.length-1,a=t[o];return n&&delete n[a],o!==0&&(O(n)&&W(n)||Array.isArray(n)&&Xt(n))&&P(e,t.slice(0,-1)),e}var Zt=e=>{for(const s in e)if(Z(e[s]))return!0;return!1};function Ft(e){return Array.isArray(e)||O(e)&&!Zt(e)}function Ee(e,s={}){for(const t in e){const n=e[t];Ft(n)?(s[t]=Array.isArray(n)?[]:{},Ee(n,s[t])):H(n)||(s[t]=!0)}return s}function ce(e,s,t){t||(t=Ee(s));for(const n in e){const o=e[n];if(Ft(o))H(s)||De(t[n])?t[n]=Ee(o,Array.isArray(o)?[]:{}):ce(o,z(s)?{}:s[n],t[n]);else{const a=s[n];t[n]=!ee(o,a)}}return t}const tt={value:!1,isValid:!1},st={value:!0,isValid:!0};var gt=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!H(e[0].attributes.value)?H(e[0].value)||e[0].value===""?st:{value:e[0].value,isValid:!0}:st:tt}return tt},Ct=(e,{valueAsNumber:s,valueAsDate:t,setValueAs:n})=>H(e)?e:s?e===""?NaN:e&&+e:t&&Y(e)?new Date(e):n?n(e):e;const rt={isValid:!1,value:null};var Tt=e=>Array.isArray(e)?e.reduce((s,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:s,rt):rt;function nt(e){const s=e.ref;return Ne(s)?s.files:qe(s)?Tt(e.refs).value:ht(s)?[...s.selectedOptions].map(({value:t})=>t):ge(s)?gt(e.refs).value:Ct(H(s.value)?e.ref.value:s.value,e)}var Gt=(e,s,t,n)=>{const o={};for(const a of e){const u=y(s,a);u&&A(o,a,u._f)}return{criteriaMode:t,names:[...e],fields:o,shouldUseNativeValidation:n}},pe=e=>e instanceof RegExp,ye=e=>H(e)?e:pe(e)?e.source:O(e)?pe(e.value)?e.value.source:e.value:e,at=e=>({isOnSubmit:!e||e===G.onSubmit,isOnBlur:e===G.onBlur,isOnChange:e===G.onChange,isOnAll:e===G.all,isOnTouch:e===G.onTouched});const it="AsyncFunction";var es=e=>!!e&&!!e.validate&&!!(Z(e.validate)&&e.validate.constructor.name===it||O(e.validate)&&Object.values(e.validate).find(s=>s.constructor.name===it)),ts=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),ot=(e,s,t)=>!t&&(s.watchAll||s.watch.has(e)||[...s.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Fe=(e,s,t,n)=>{for(const o of t||Object.keys(e)){const a=y(e,o);if(a){const{_f:u,...c}=a;if(u){if(u.refs&&u.refs[0]&&s(u.refs[0],o)&&!n)return!0;if(u.ref&&s(u.ref,u.name)&&!n)return!0;if(Fe(c,s))break}else if(O(c)&&Fe(c,s))break}}};function lt(e,s,t){const n=y(e,t);if(n||be(t))return{error:n,name:t};const o=t.split(".");for(;o.length;){const a=o.join("."),u=y(s,a),c=y(e,a);if(u&&!Array.isArray(u)&&t!==a)return{name:t};if(c&&c.type)return{name:a,error:c};if(c&&c.root&&c.root.type)return{name:`${a}.root`,error:c.root};o.pop()}return{name:t}}var ss=(e,s,t,n)=>{t(e);const{name:o,...a}=e;return W(a)||Object.keys(a).length>=Object.keys(s).length||Object.keys(a).find(u=>s[u]===(!n||G.all))},rs=(e,s,t)=>!e||!s||e===s||he(e).some(n=>n&&(t?n===s:n.startsWith(s)||s.startsWith(n))),ns=(e,s,t,n,o)=>o.isOnAll?!1:!t&&o.isOnTouch?!(s||e):(t?n.isOnBlur:o.isOnBlur)?!e:(t?n.isOnChange:o.isOnChange)?e:!0,as=(e,s)=>!Pe(y(e,s)).length&&P(e,s),is=(e,s,t)=>{const n=he(y(e,t));return A(n,"root",s[t]),A(e,t,n),e};function ut(e,s,t="validate"){if(Y(e)||Array.isArray(e)&&e.every(Y)||te(e)&&!e)return{type:t,message:Y(e)?e:"",ref:s}}var ue=e=>O(e)&&!pe(e)?e:{value:e,message:""},ct=async(e,s,t,n,o,a)=>{const{ref:u,refs:c,required:g,maxLength:v,minLength:k,min:C,max:w,pattern:F,validate:B,name:j,valueAsNumber:M,mount:N}=e._f,T=y(t,j);if(!N||s.has(j))return{};const $=c?c[0]:u,D=S=>{o&&$.reportValidity&&($.setCustomValidity(te(S)?"":S||""),$.reportValidity())},R={},E=qe(u),ae=ge(u),se=E||ae,le=(M||Ne(u))&&H(u.value)&&H(T)||Se(u)&&u.value===""||T===""||Array.isArray(T)&&!T.length,J=Yt.bind(null,j,n,R),Ce=(S,b,q,L=re.maxLength,X=re.minLength)=>{const K=S?b:q;R[j]={type:S?L:X,message:K,ref:u,...J(S?L:X,K)}};if(a?!Array.isArray(T)||!T.length:g&&(!se&&(le||z(T))||te(T)&&!T||ae&&!gt(c).isValid||E&&!Tt(c).isValid)){const{value:S,message:b}=Y(g)?{value:!!g,message:g}:ue(g);if(S&&(R[j]={type:re.required,message:b,ref:$,...J(re.required,b)},!n))return D(b),R}if(!le&&(!z(C)||!z(w))){let S,b;const q=ue(w),L=ue(C);if(!z(T)&&!isNaN(T)){const X=u.valueAsNumber||T&&+T;z(q.value)||(S=X>q.value),z(L.value)||(b=X<L.value)}else{const X=u.valueAsDate||new Date(T),K=fe=>new Date(new Date().toDateString()+" "+fe),de=u.type=="time",me=u.type=="week";Y(q.value)&&T&&(S=de?K(T)>K(q.value):me?T>q.value:X>new Date(q.value)),Y(L.value)&&T&&(b=de?K(T)<K(L.value):me?T<L.value:X<new Date(L.value))}if((S||b)&&(Ce(!!S,q.message,L.message,re.max,re.min),!n))return D(R[j].message),R}if((v||k)&&!le&&(Y(T)||a&&Array.isArray(T))){const S=ue(v),b=ue(k),q=!z(S.value)&&T.length>+S.value,L=!z(b.value)&&T.length<+b.value;if((q||L)&&(Ce(q,S.message,b.message),!n))return D(R[j].message),R}if(F&&!le&&Y(T)){const{value:S,message:b}=ue(F);if(pe(S)&&!T.match(S)&&(R[j]={type:re.pattern,message:b,ref:u,...J(re.pattern,b)},!n))return D(b),R}if(B){if(Z(B)){const S=await B(T,t),b=ut(S,$);if(b&&(R[j]={...b,...J(re.validate,b.message)},!n))return D(b.message),R}else if(O(B)){let S={};for(const b in B){if(!W(S)&&!n)break;const q=ut(await B[b](T,t),$,b);q&&(S={...q,...J(b,q.message)},D(q.message),n&&(R[j]=S))}if(!W(S)&&(R[j]={ref:$,...S},!n))return R}}return D(!0),R};const os={mode:G.onSubmit,reValidateMode:G.onChange,shouldFocusError:!0};function ls(e={}){let s={...os,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:Z(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},n={},o=O(s.defaultValues)||O(s.values)?I(s.defaultValues||s.values)||{}:{},a=s.shouldUnregister?{}:I(o),u={action:!1,mount:!1,watch:!1,keepIsValid:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},g,v=0;const k={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},C={...k};let w={...C};const F={array:et(),state:et()},B=s.criteriaMode===G.all,j=r=>i=>{clearTimeout(v),v=setTimeout(r,i)},M=async r=>{if(!u.keepIsValid&&!s.disabled&&(C.isValid||w.isValid||r)){let i;s.resolver?(i=W((await se()).errors),N()):i=await J(n,!0),i!==t.isValid&&F.state.next({isValid:i})}},N=(r,i)=>{!s.disabled&&(C.isValidating||C.validatingFields||w.isValidating||w.validatingFields)&&((r||Array.from(c.mount)).forEach(l=>{l&&(i?A(t.validatingFields,l,i):P(t.validatingFields,l))}),F.state.next({validatingFields:t.validatingFields,isValidating:!W(t.validatingFields)}))},T=(r,i=[],l,f,m=!0,d=!0)=>{if(f&&l&&!s.disabled){if(u.action=!0,d&&Array.isArray(y(n,r))){const h=l(y(n,r),f.argA,f.argB);m&&A(n,r,h)}if(d&&Array.isArray(y(t.errors,r))){const h=l(y(t.errors,r),f.argA,f.argB);m&&A(t.errors,r,h),as(t.errors,r)}if((C.touchedFields||w.touchedFields)&&d&&Array.isArray(y(t.touchedFields,r))){const h=l(y(t.touchedFields,r),f.argA,f.argB);m&&A(t.touchedFields,r,h)}(C.dirtyFields||w.dirtyFields)&&(t.dirtyFields=ce(o,a)),F.state.next({name:r,isDirty:S(r,i),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else A(a,r,i)},$=(r,i)=>{A(t.errors,r,i),F.state.next({errors:t.errors})},D=r=>{t.errors=r,F.state.next({errors:t.errors,isValid:!1})},R=(r,i,l,f)=>{const m=y(n,r);if(m){const d=y(a,r,H(l)?y(o,r):l);H(d)||f&&f.defaultChecked||i?A(a,r,i?d:nt(m._f)):L(r,d),u.mount&&!u.action&&M()}},E=(r,i,l,f,m)=>{let d=!1,h=!1;const _={name:r};if(!s.disabled){if(!l||f){(C.isDirty||w.isDirty)&&(h=t.isDirty,t.isDirty=_.isDirty=S(),d=h!==_.isDirty);const x=ee(y(o,r),i);h=!!y(t.dirtyFields,r),x?P(t.dirtyFields,r):A(t.dirtyFields,r,!0),_.dirtyFields=t.dirtyFields,d=d||(C.dirtyFields||w.dirtyFields)&&h!==!x}if(l){const x=y(t.touchedFields,r);x||(A(t.touchedFields,r,l),_.touchedFields=t.touchedFields,d=d||(C.touchedFields||w.touchedFields)&&x!==l)}d&&m&&F.state.next(_)}return d?_:{}},ae=(r,i,l,f)=>{const m=y(t.errors,r),d=(C.isValid||w.isValid)&&te(i)&&t.isValid!==i;if(s.delayError&&l?(g=j(()=>$(r,l)),g(s.delayError)):(clearTimeout(v),g=null,l?A(t.errors,r,l):P(t.errors,r)),(l?!ee(m,l):m)||!W(f)||d){const h={...f,...d&&te(i)?{isValid:i}:{},errors:t.errors,name:r};t={...t,...h},F.state.next(h)}},se=async r=>(N(r,!0),await s.resolver(a,s.context,Gt(r||c.mount,n,s.criteriaMode,s.shouldUseNativeValidation))),le=async r=>{const{errors:i}=await se(r);if(N(r),r)for(const l of r){const f=y(i,l);f?A(t.errors,l,f):P(t.errors,l)}else t.errors=i;return i},J=async(r,i,l={valid:!0})=>{for(const f in r){const m=r[f];if(m){const{_f:d,...h}=m;if(d){const _=c.array.has(d.name),x=m._f&&es(m._f);x&&C.validatingFields&&N([d.name],!0);const Q=await ct(m,c.disabled,a,B,s.shouldUseNativeValidation&&!i,_);if(x&&C.validatingFields&&N([d.name]),Q[d.name]&&(l.valid=!1,i))break;!i&&(y(Q,d.name)?_?is(t.errors,Q,d.name):A(t.errors,d.name,Q[d.name]):P(t.errors,d.name))}!W(h)&&await J(h,i,l)}}return l.valid},Ce=()=>{for(const r of c.unMount){const i=y(n,r);i&&(i._f.refs?i._f.refs.every(l=>!Ae(l)):!Ae(i._f.ref))&&Ve(r)}c.unMount=new Set},S=(r,i)=>!s.disabled&&(r&&i&&A(a,r,i),!ee(Le(),o)),b=(r,i,l)=>Be(r,c,{...u.mount?a:H(i)?o:Y(r)?{[r]:i}:i},l,i),q=r=>Pe(y(u.mount?a:o,r,s.shouldUnregister?y(o,r,[]):[])),L=(r,i,l={})=>{const f=y(n,r);let m=i;if(f){const d=f._f;d&&(!d.disabled&&A(a,r,Ct(i,d)),m=Se(d.ref)&&z(i)?"":i,ht(d.ref)?[...d.ref.options].forEach(h=>h.selected=m.includes(h.value)):d.refs?ge(d.ref)?d.refs.forEach(h=>{(!h.defaultChecked||!h.disabled)&&(Array.isArray(m)?h.checked=!!m.find(_=>_===h.value):h.checked=m===h.value||!!m)}):d.refs.forEach(h=>h.checked=h.value===m):Ne(d.ref)?d.ref.value="":(d.ref.value=m,d.ref.type||F.state.next({name:r,values:I(a)})))}(l.shouldDirty||l.shouldTouch)&&E(r,m,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&fe(r)},X=(r,i,l)=>{for(const f in i){if(!i.hasOwnProperty(f))return;const m=i[f],d=r+"."+f,h=y(n,d);(c.array.has(r)||O(m)||h&&!h._f)&&!ie(m)?X(d,m,l):L(d,m,l)}},K=(r,i,l={})=>{const f=y(n,r),m=c.array.has(r),d=I(i);A(a,r,d),m?(F.array.next({name:r,values:I(a)}),(C.isDirty||C.dirtyFields||w.isDirty||w.dirtyFields)&&l.shouldDirty&&F.state.next({name:r,dirtyFields:ce(o,a),isDirty:S(r,d)})):f&&!f._f&&!z(d)?X(r,d,l):L(r,d,l),ot(r,c)&&F.state.next({...t,name:r}),F.state.next({name:u.mount?r:void 0,values:I(a)})},de=async r=>{u.mount=!0;const i=r.target;let l=i.name,f=!0;const m=y(n,l),d=x=>{f=Number.isNaN(x)||ie(x)&&isNaN(x.getTime())||ee(x,y(a,l,x))},h=at(s.mode),_=at(s.reValidateMode);if(m){let x,Q;const Te=i.type?nt(m._f):Lt(r),ne=r.type===Ge.BLUR||r.type===Ge.FOCUS_OUT,qt=!ts(m._f)&&!s.resolver&&!y(t.errors,l)&&!m._f.deps||ns(ne,y(t.touchedFields,l),t.isSubmitted,_,h),xe=ot(l,c,ne);A(a,l,Te),ne?(!i||!i.readOnly)&&(m._f.onBlur&&m._f.onBlur(r),g&&g(0)):m._f.onChange&&m._f.onChange(r);const ke=E(l,Te,ne),It=!W(ke)||xe;if(!ne&&F.state.next({name:l,type:r.type,values:I(a)}),qt)return(C.isValid||w.isValid)&&(s.mode==="onBlur"?ne&&M():ne||M()),It&&F.state.next({name:l,...xe?{}:ke});if(!ne&&xe&&F.state.next({...t}),s.resolver){const{errors:Xe}=await se([l]);if(N([l]),d(Te),f){const Ut=lt(t.errors,n,l),Ze=lt(Xe,n,Ut.name||l);x=Ze.error,l=Ze.name,Q=W(Xe)}}else N([l],!0),x=(await ct(m,c.disabled,a,B,s.shouldUseNativeValidation))[l],N([l]),d(Te),f&&(x?Q=!1:(C.isValid||w.isValid)&&(Q=await J(n,!0)));f&&(m._f.deps&&(!Array.isArray(m._f.deps)||m._f.deps.length>0)&&fe(m._f.deps),ae(l,Q,x,ke))}},me=(r,i)=>{if(y(t.errors,i)&&r.focus)return r.focus(),1},fe=async(r,i={})=>{let l,f;const m=he(r);if(s.resolver){const d=await le(H(r)?r:m);l=W(d),f=r?!m.some(h=>y(d,h)):l}else r?(f=(await Promise.all(m.map(async d=>{const h=y(n,d);return await J(h&&h._f?{[d]:h}:h)}))).every(Boolean),!(!f&&!t.isValid)&&M()):f=l=await J(n);return F.state.next({...!Y(r)||(C.isValid||w.isValid)&&l!==t.isValid?{}:{name:r},...s.resolver||!r?{isValid:l}:{},errors:t.errors}),i.shouldFocus&&!f&&Fe(n,me,r?m:c.mount),f},Le=(r,i)=>{let l={...u.mount?a:o};return i&&(l=yt(i.dirtyFields?t.dirtyFields:t.touchedFields,l)),H(r)?l:Y(r)?y(l,r):r.map(f=>y(l,f))},Me=(r,i)=>({invalid:!!y((i||t).errors,r),isDirty:!!y((i||t).dirtyFields,r),error:y((i||t).errors,r),isValidating:!!y(t.validatingFields,r),isTouched:!!y((i||t).touchedFields,r)}),Dt=r=>{r&&he(r).forEach(i=>P(t.errors,i)),F.state.next({errors:r?t.errors:{}})},We=(r,i,l)=>{const f=(y(n,r,{_f:{}})._f||{}).ref,m=y(t.errors,r)||{},{ref:d,message:h,type:_,...x}=m;A(t.errors,r,{...x,...i,ref:f}),F.state.next({name:r,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&f&&f.focus&&f.focus()},Et=(r,i)=>Z(r)?F.state.subscribe({next:l=>"values"in l&&r(b(void 0,i),l)}):b(r,i,!0),$e=r=>F.state.subscribe({next:i=>{rs(r.name,i.name,r.exact)&&ss(i,r.formState||C,Nt,r.reRenderRoot)&&r.callback({values:{...a},...t,...i,defaultValues:o})}}).unsubscribe,Ht=r=>(u.mount=!0,w={...w,...r.formState},$e({...r,formState:{...k,...r.formState}})),Ve=(r,i={})=>{for(const l of r?he(r):c.mount)c.mount.delete(l),c.array.delete(l),i.keepValue||(P(n,l),P(a,l)),!i.keepError&&P(t.errors,l),!i.keepDirty&&P(t.dirtyFields,l),!i.keepTouched&&P(t.touchedFields,l),!i.keepIsValidating&&P(t.validatingFields,l),!s.shouldUnregister&&!i.keepDefaultValue&&P(o,l);F.state.next({values:I(a)}),F.state.next({...t,...i.keepDirty?{isDirty:S()}:{}}),!i.keepIsValid&&M()},ze=({disabled:r,name:i})=>{(te(r)&&u.mount||r||c.disabled.has(i))&&(r?c.disabled.add(i):c.disabled.delete(i))},_e=(r,i={})=>{let l=y(n,r);const f=te(i.disabled)||te(s.disabled);return A(n,r,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:r}},name:r,mount:!0,...i}}),c.mount.add(r),l?ze({disabled:te(i.disabled)?i.disabled:s.disabled,name:r}):R(r,!0,i.value),{...f?{disabled:i.disabled||s.disabled}:{},...s.progressive?{required:!!i.required,min:ye(i.min),max:ye(i.max),minLength:ye(i.minLength),maxLength:ye(i.maxLength),pattern:ye(i.pattern)}:{},name:r,onChange:de,onBlur:de,ref:m=>{if(m){_e(r,i),l=y(n,r);const d=H(m.value)&&m.querySelectorAll&&m.querySelectorAll("input,select,textarea")[0]||m,h=Jt(d),_=l._f.refs||[];if(h?_.find(x=>x===d):d===l._f.ref)return;A(n,r,{_f:{...l._f,...h?{refs:[..._.filter(Ae),d,...Array.isArray(y(o,r))?[{}]:[]],ref:{type:d.type,name:r}}:{ref:d}}}),R(r,!1,void 0,d)}else l=y(n,r,{}),l._f&&(l._f.mount=!1),(s.shouldUnregister||i.shouldUnregister)&&!(Wt(c.array,r)&&u.action)&&c.unMount.add(r)}}},Re=()=>s.shouldFocusError&&Fe(n,me,c.mount),Pt=r=>{te(r)&&(F.state.next({disabled:r}),Fe(n,(i,l)=>{const f=y(n,l);f&&(i.disabled=f._f.disabled||r,Array.isArray(f._f.refs)&&f._f.refs.forEach(m=>{m.disabled=f._f.disabled||r}))},0,!1))},Ke=(r,i)=>async l=>{let f;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let m=I(a);if(F.state.next({isSubmitting:!0}),s.resolver){const{errors:d,values:h}=await se();N(),t.errors=d,m=I(h)}else await J(n);if(c.disabled.size)for(const d of c.disabled)P(m,d);if(P(t.errors,"root"),W(t.errors)){F.state.next({errors:{}});try{await r(m,l)}catch(d){f=d}}else i&&await i({...t.errors},l),Re(),setTimeout(Re);if(F.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:W(t.errors)&&!f,submitCount:t.submitCount+1,errors:t.errors}),f)throw f},Ot=(r,i={})=>{y(n,r)&&(H(i.defaultValue)?K(r,I(y(o,r))):(K(r,i.defaultValue),A(o,r,I(i.defaultValue))),i.keepTouched||P(t.touchedFields,r),i.keepDirty||(P(t.dirtyFields,r),t.isDirty=i.defaultValue?S(r,I(y(o,r))):S()),i.keepError||(P(t.errors,r),C.isValid&&M()),F.state.next({...t}))},Ye=(r,i={})=>{const l=r?I(r):o,f=I(l),m=W(r),d=m?o:f;if(i.keepDefaultValues||(o=l),!i.keepValues){if(i.keepDirtyValues){const h=new Set([...c.mount,...Object.keys(ce(o,a))]);for(const _ of Array.from(h))y(t.dirtyFields,_)?A(d,_,y(a,_)):K(_,y(d,_))}else{if(He&&H(r))for(const h of c.mount){const _=y(n,h);if(_&&_._f){const x=Array.isArray(_._f.refs)?_._f.refs[0]:_._f.ref;if(Se(x)){const Q=x.closest("form");if(Q){Q.reset();break}}}}if(i.keepFieldsRef)for(const h of c.mount)K(h,y(d,h));else n={}}a=s.shouldUnregister?i.keepDefaultValues?I(o):{}:I(d),F.array.next({values:{...d}}),F.state.next({values:{...d}})}c={mount:i.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!C.isValid||!!i.keepIsValid||!!i.keepDirtyValues||!s.shouldUnregister&&!W(d),u.watch=!!s.shouldUnregister,u.keepIsValid=!!i.keepIsValid,u.action=!1,i.keepErrors||(t.errors={}),F.state.next({submitCount:i.keepSubmitCount?t.submitCount:0,isDirty:m?!1:i.keepDirty?t.isDirty:!!(i.keepDefaultValues&&!ee(r,o)),isSubmitted:i.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:m?{}:i.keepDirtyValues?i.keepDefaultValues&&a?ce(o,a):t.dirtyFields:i.keepDefaultValues&&r?ce(o,r):i.keepDirty?t.dirtyFields:{},touchedFields:i.keepTouched?t.touchedFields:{},errors:i.keepErrors?t.errors:{},isSubmitSuccessful:i.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},Je=(r,i)=>Ye(Z(r)?r(a):r,{...s.resetOptions,...i}),jt=(r,i={})=>{const l=y(n,r),f=l&&l._f;if(f){const m=f.refs?f.refs[0]:f.ref;m.focus&&setTimeout(()=>{m.focus(),i.shouldSelect&&Z(m.select)&&m.select()})}},Nt=r=>{t={...t,...r}},Qe={control:{register:_e,unregister:Ve,getFieldState:Me,handleSubmit:Ke,setError:We,_subscribe:$e,_runSchema:se,_updateIsValidating:N,_focusError:Re,_getWatch:b,_getDirty:S,_setValid:M,_setFieldArray:T,_setDisabledField:ze,_setErrors:D,_getFieldArray:q,_reset:Ye,_resetDefaultValues:()=>Z(s.defaultValues)&&s.defaultValues().then(r=>{Je(r,s.resetOptions),F.state.next({isLoading:!1})}),_removeUnmounted:Ce,_disableForm:Pt,_subjects:F,_proxyFormState:C,get _fields(){return n},get _formValues(){return a},get _state(){return u},set _state(r){u=r},get _defaultValues(){return o},get _names(){return c},set _names(r){c=r},get _formState(){return t},get _options(){return s},set _options(r){s={...s,...r}}},subscribe:Ht,trigger:fe,register:_e,handleSubmit:Ke,watch:Et,setValue:K,getValues:Le,reset:Je,resetField:Ot,clearErrors:Dt,unregister:Ve,setError:We,setFocus:jt,getFieldState:Me};return{...Qe,formControl:Qe}}function us(e={}){const s=V.useRef(void 0),t=V.useRef(void 0),[n,o]=V.useState({isDirty:!1,isValidating:!1,isLoading:Z(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Z(e.defaultValues)?void 0:e.defaultValues});if(!s.current)if(e.formControl)s.current={...e.formControl,formState:n},e.defaultValues&&!Z(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:u,...c}=ls(e);s.current={...c,formState:n}}const a=s.current.control;return a._options=e,mt(()=>{const u=a._subscribe({formState:a._proxyFormState,callback:()=>o({...a._formState}),reRenderRoot:!0});return o(c=>({...c,isReady:!0})),a._formState.isReady=!0,u},[a]),V.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),V.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),V.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),V.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),V.useEffect(()=>{if(a._proxyFormState.isDirty){const u=a._getDirty();u!==n.isDirty&&a._subjects.state.next({isDirty:u})}},[a,n.isDirty]),V.useEffect(()=>{var u;e.values&&!ee(e.values,t.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),!((u=a._options.resetOptions)===null||u===void 0)&&u.keepIsValid||a._setValid(),t.current=e.values,o(c=>({...c}))):a._resetDefaultValues()},[a,e.values]),V.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),s.current.formState=Kt(n,a),s.current}const St=U.createContext(null),pt=({children:e,layout:s="vertical",uiConfig:t,updateFieldSchema:n})=>{const o=U.useMemo(()=>({layout:s,uiConfig:t,updateFieldSchema:n}),[s,t,n]);return p.jsx(St.Provider,{value:o,children:e})};pt.__docgenInfo={description:"",methods:[],displayName:"AutoFormRenderContextProvider",props:{layout:{required:!1,tsType:{name:"union",raw:"'vertical' | 'horizontal' | 'custom'",elements:[{name:"literal",value:"'vertical'"},{name:"literal",value:"'horizontal'"},{name:"literal",value:"'custom'"}]},description:"",defaultValue:{value:"'vertical'",computed:!1}},uiConfig:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  renderersByName?: CustomRender<TCustom>;
  renderersByType?: CustomRender<TCustom>;
}`,signature:{properties:[{key:"renderersByName",value:{name:"Record",elements:[{name:"string"},{name:"ReactComponentType",raw:"React.ComponentType<CustomFieldRendererProps<TCustom>>",elements:[{name:"signature",type:"object",raw:`{
  fieldSchema: FieldSchema<TCustom>;
  register: UseFormRegisterReturn<string>;
  control: Control<FormValues>;
}`,signature:{properties:[{key:"fieldSchema",value:{name:"union",raw:`| BaseFieldSchema<TCustom>
| SelectFieldSchema<TCustom>
| HasFields<TCustom>`,elements:[{name:"BaseFieldSchema",elements:[{name:"TCustom"}],raw:"BaseFieldSchema<TCustom>"},{name:"SelectFieldSchema",elements:[{name:"TCustom"}],raw:"SelectFieldSchema<TCustom>"},{name:"HasFields",elements:[{name:"TCustom"}],raw:"HasFields<TCustom>"}],required:!0}},{key:"register",value:{name:"UseFormRegisterReturn",elements:[{name:"string"}],raw:"UseFormRegisterReturn<string>",required:!0}},{key:"control",value:{name:"Control",elements:[{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"}],raw:"Control<FormValues>",required:!0}}]}}]}],raw:`Record<
  string,
  React.ComponentType<CustomFieldRendererProps<TCustom>>
>`,required:!1}},{key:"renderersByType",value:{name:"Record",elements:[{name:"string"},{name:"ReactComponentType",raw:"React.ComponentType<CustomFieldRendererProps<TCustom>>",elements:[{name:"signature",type:"object",raw:`{
  fieldSchema: FieldSchema<TCustom>;
  register: UseFormRegisterReturn<string>;
  control: Control<FormValues>;
}`,signature:{properties:[{key:"fieldSchema",value:{name:"union",raw:`| BaseFieldSchema<TCustom>
| SelectFieldSchema<TCustom>
| HasFields<TCustom>`,elements:[{name:"BaseFieldSchema",elements:[{name:"TCustom"}],raw:"BaseFieldSchema<TCustom>"},{name:"SelectFieldSchema",elements:[{name:"TCustom"}],raw:"SelectFieldSchema<TCustom>"},{name:"HasFields",elements:[{name:"TCustom"}],raw:"HasFields<TCustom>"}],required:!0}},{key:"register",value:{name:"UseFormRegisterReturn",elements:[{name:"string"}],raw:"UseFormRegisterReturn<string>",required:!0}},{key:"control",value:{name:"Control",elements:[{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"}],raw:"Control<FormValues>",required:!0}}]}}]}],raw:`Record<
  string,
  React.ComponentType<CustomFieldRendererProps<TCustom>>
>`,required:!1}}]}},description:""},updateFieldSchema:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  [key: string]: (
    path: string,
    fieldSchema: FieldSchema<TCustom>,
    values: FormValues
  ) => FieldSchema<TCustom> | Promise<FieldSchema<TCustom>>;
}`,signature:{properties:[{key:{name:"string"},value:{name:"signature",type:"function",raw:`(
  path: string,
  fieldSchema: FieldSchema<TCustom>,
  values: FormValues
) => FieldSchema<TCustom> | Promise<FieldSchema<TCustom>>`,signature:{arguments:[{type:{name:"string"},name:"path"},{type:{name:"union",raw:`| BaseFieldSchema<TCustom>
| SelectFieldSchema<TCustom>
| HasFields<TCustom>`,elements:[{name:"BaseFieldSchema",elements:[{name:"TCustom"}],raw:"BaseFieldSchema<TCustom>"},{name:"SelectFieldSchema",elements:[{name:"TCustom"}],raw:"SelectFieldSchema<TCustom>"},{name:"HasFields",elements:[{name:"TCustom"}],raw:"HasFields<TCustom>"}]},name:"fieldSchema"},{type:{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},name:"values"}],return:{name:"union",raw:"FieldSchema<TCustom> | Promise<FieldSchema<TCustom>>",elements:[{name:"union",raw:`| BaseFieldSchema<TCustom>
| SelectFieldSchema<TCustom>
| HasFields<TCustom>`,elements:[{name:"BaseFieldSchema",elements:[{name:"TCustom"}],raw:"BaseFieldSchema<TCustom>"},{name:"SelectFieldSchema",elements:[{name:"TCustom"}],raw:"SelectFieldSchema<TCustom>"},{name:"HasFields",elements:[{name:"TCustom"}],raw:"HasFields<TCustom>"}]},{name:"Promise",elements:[{name:"union",raw:`| BaseFieldSchema<TCustom>
| SelectFieldSchema<TCustom>
| HasFields<TCustom>`,elements:[{name:"BaseFieldSchema",elements:[{name:"TCustom"}],raw:"BaseFieldSchema<TCustom>"},{name:"SelectFieldSchema",elements:[{name:"TCustom"}],raw:"SelectFieldSchema<TCustom>"},{name:"HasFields",elements:[{name:"TCustom"}],raw:"HasFields<TCustom>"}]}],raw:"Promise<FieldSchema<TCustom>>"}]}},required:!0}}]}},description:""}}};const vt=()=>{const e=U.useContext(St);if(!e)throw new Error("useAutoFormRenderContext must be used within AutoFormRenderContextProvider");return e},wt=e=>{const{fieldSchema:s}=e,{register:t}=oe(),n=t(s.name);return p.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[p.jsx("label",{children:s.label}),p.jsx("input",{type:s.type,...n,readOnly:s.readonly})]})};wt.__docgenInfo={description:"",methods:[],displayName:"DefaultInput",props:{fieldSchema:{required:!0,tsType:{name:"union",raw:`| BaseFieldSchema<TCustom>
| SelectFieldSchema<TCustom>
| HasFields<TCustom>`,elements:[{name:"BaseFieldSchema",elements:[{name:"TCustom"}],raw:"BaseFieldSchema<TCustom>"},{name:"SelectFieldSchema",elements:[{name:"TCustom"}],raw:"SelectFieldSchema<TCustom>"},{name:"HasFields",elements:[{name:"TCustom"}],raw:"HasFields<TCustom>"}]},description:""}}};const bt=e=>{const{fieldSchema:s}=e,{register:t}=oe(),n=t(s.name),o=s.options;return p.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[p.jsx("label",{children:s.label}),p.jsx("select",{...n,disabled:s.readonly,children:o.map(a=>p.jsx("option",{value:a.value,children:a.label},a.value))})]})};bt.__docgenInfo={description:"",methods:[],displayName:"DefaultSelect",props:{fieldSchema:{required:!0,tsType:{name:"union",raw:`| BaseFieldSchema<TCustom>
| SelectFieldSchema<TCustom>
| HasFields<TCustom>`,elements:[{name:"BaseFieldSchema",elements:[{name:"TCustom"}],raw:"BaseFieldSchema<TCustom>"},{name:"SelectFieldSchema",elements:[{name:"TCustom"}],raw:"SelectFieldSchema<TCustom>"},{name:"HasFields",elements:[{name:"TCustom"}],raw:"HasFields<TCustom>"}]},description:""}}};function cs(e,s){const t={};return e.forEach((n,o)=>{const a=n.split(".");let u=t;a.forEach((c,g)=>{const v=g===a.length-1,k=!isNaN(Number(c));v?u[c]=s[o]:(c in u||(u[c]=k?[]:{}),u=u[c])})}),t}function ds(e){switch(e){case"text":return"";case"number":return 0;case"array":return[];case"checkbox":return!1;case"object":return{};case"select":return null;case"date":return new Date().toISOString().slice(0,10);case"datetime-local":return new Date().toISOString().slice(0,16);case"time":return new Date().toISOString().slice(11,16);default:return null}}function Ie(e){return e.replace(/\.\d+\./g,".")}function ms(e,s){const t=e.split("."),n=[];return t.forEach((o,a)=>{isNaN(Number(o))||n.push({pos:a,value:o})}),s.map(o=>{const u=[...o.split(".")];return n.forEach(({pos:c,value:g})=>{c<=u.length&&u.splice(c,0,g)}),u.join(".")})}function ve(e,s={}){const t={};for(const n of e)if(n.type==="object"){const o=n.fields;t[n.name]=ve(o,s==null?void 0:s[n.name])}else t[n.name]=(s==null?void 0:s[n.name])??n.initialValue??ds(n.type);return t}function Vt(e){return e.map(s=>{if(["object","array"].includes(s.type)){const t=s.fields;return{...s,readonly:!0,fields:Vt(t)}}return{...s,readonly:!0}})}const fs=V.memo(e=>{const{baseName:s,index:t,fields:n}=e,o=V.useMemo(()=>n.map(a=>({...a,name:`${s}.${t}.${a.name}`})),[s,t,n]);return p.jsxs("div",{children:[p.jsxs("div",{children:["row ",t]}),p.jsx(we,{schema:o})]})}),_t=e=>{const{fieldSchema:s}=e,{control:t,getValues:n,setValue:o}=oe(),u=ft({control:t,name:s.name})??[],c=()=>{const v=n(s.name)||[];o(s.name,[...v,ve(s.fields)])},g=v=>{const C=(n(s.name)||[]).filter((w,F)=>F!==v);o(s.name,C)};return p.jsxs("div",{children:[u.map((v,k)=>p.jsxs("div",{children:[p.jsx(fs,{baseName:s.name,index:k,fields:s.fields}),!s.readonly&&p.jsx("button",{type:"button",onClick:()=>g(k),children:"Remove"})]},k)),!s.readonly&&p.jsx("button",{type:"button",onClick:c,children:"Add Row"})]})},ys=V.memo(_t);_t.__docgenInfo={description:"",methods:[],displayName:"ArrayLayout",props:{fieldSchema:{required:!0,tsType:{name:"ArrayFieldSchema"},description:""}}};const Rt=e=>{const{fieldSchema:s}=e;let t=U.useMemo(()=>s.fields.map(n=>({...n,name:`${s.name}.${n.name}`})),[s.fields]);return p.jsx(we,{schema:t})};Rt.__docgenInfo={description:"",methods:[],displayName:"ObjectLayout",props:{fieldSchema:{required:!0,tsType:{name:"ObjectFieldSchema"},description:""}}};const hs=["text","number","checkbox","select","date","datetime-local","time","array","object"],Ue=({fieldSchema:e})=>{var v,k;const t=vt().uiConfig,{register:n,control:o}=oe(),a=Ie(e.name),u=n(e.name),c=(v=t==null?void 0:t.renderersByName)==null?void 0:v[a];if(e.visible===!1)return null;if(c)return p.jsx(c,{fieldSchema:e,control:o,register:u});const g=(k=t==null?void 0:t.renderersByType)==null?void 0:k[e.type];if(g)return p.jsx(g,{fieldSchema:e,control:o,register:u});if(hs.includes(e.type))return e.type==="select"?p.jsx(bt,{fieldSchema:e}):e.type==="array"?p.jsx(ys,{fieldSchema:e}):e.type==="object"?p.jsx(Rt,{fieldSchema:e}):p.jsx(wt,{fieldSchema:e});throw new Error(`AutoForm: No renderer found for field "${e.name}" with type "${e.type}". If this is a custom field type, make sure to register a renderer via uiConfig.renderersByType.`)};Ue.__docgenInfo={description:"",methods:[],displayName:"FieldRenderer",props:{fieldSchema:{required:!0,tsType:{name:"union",raw:`| BaseFieldSchema<TCustom>
| SelectFieldSchema<TCustom>
| HasFields<TCustom>`,elements:[{name:"BaseFieldSchema",elements:[{name:"TCustom"}],raw:"BaseFieldSchema<TCustom>"},{name:"SelectFieldSchema",elements:[{name:"TCustom"}],raw:"SelectFieldSchema<TCustom>"},{name:"HasFields",elements:[{name:"TCustom"}],raw:"HasFields<TCustom>"}]},description:""}}};const xt=({fieldSchema:e})=>p.jsx(Ue,{fieldSchema:e});xt.__docgenInfo={description:"",methods:[],displayName:"UnWatchedField",props:{fieldSchema:{required:!0,tsType:{name:"union",raw:`| BaseFieldSchema<TCustom>
| SelectFieldSchema<TCustom>
| HasFields<TCustom>`,elements:[{name:"BaseFieldSchema",elements:[{name:"TCustom"}],raw:"BaseFieldSchema<TCustom>"},{name:"SelectFieldSchema",elements:[{name:"TCustom"}],raw:"SelectFieldSchema<TCustom>"},{name:"HasFields",elements:[{name:"TCustom"}],raw:"HasFields<TCustom>"}]},description:""}}};const kt=({fieldSchema:e})=>{const{control:s}=oe(),t=vt(),n=e.dependsOn??[],o=U.useMemo(()=>ms(e.name,n),[e.name,n]),a=ft({control:s,name:o}),[u,c]=U.useState(e);return U.useEffect(()=>{if(!n.length)return;let g=!1;return(async()=>{var B;const k=Ie(e.name),C=cs(o,a??[]),w=(B=t==null?void 0:t.updateFieldSchema)==null?void 0:B[k];if(!w)return;const F=await w(e.name,e,C);!g&&F&&c({...e,...F})})(),()=>{g=!0}},[a]),p.jsx(Ue,{fieldSchema:u})};kt.__docgenInfo={description:"",methods:[],displayName:"WatchedField",props:{fieldSchema:{required:!0,tsType:{name:"union",raw:`| BaseFieldSchema<TCustom>
| SelectFieldSchema<TCustom>
| HasFields<TCustom>`,elements:[{name:"BaseFieldSchema",elements:[{name:"TCustom"}],raw:"BaseFieldSchema<TCustom>"},{name:"SelectFieldSchema",elements:[{name:"TCustom"}],raw:"SelectFieldSchema<TCustom>"},{name:"HasFields",elements:[{name:"TCustom"}],raw:"HasFields<TCustom>"}]},description:""}}};const At=e=>{var t;const{fieldSchema:s}=e;return(t=s.dependsOn)!=null&&t.length?p.jsx(kt,{fieldSchema:s}):p.jsx(xt,{fieldSchema:s})};At.__docgenInfo={description:"",methods:[],displayName:"Watcher",props:{fieldSchema:{required:!0,tsType:{name:"union",raw:`| BaseFieldSchema<TCustom>
| SelectFieldSchema<TCustom>
| HasFields<TCustom>`,elements:[{name:"BaseFieldSchema",elements:[{name:"TCustom"}],raw:"BaseFieldSchema<TCustom>"},{name:"SelectFieldSchema",elements:[{name:"TCustom"}],raw:"SelectFieldSchema<TCustom>"},{name:"HasFields",elements:[{name:"TCustom"}],raw:"HasFields<TCustom>"}]},description:""}}};const Bt=e=>{const{fieldSchema:s}=e;return p.jsx(At,{fieldSchema:s})};Bt.__docgenInfo={description:"",methods:[],displayName:"FieldLayout",props:{fieldSchema:{required:!0,tsType:{name:"union",raw:`| BaseFieldSchema<TCustom>
| SelectFieldSchema<TCustom>
| HasFields<TCustom>`,elements:[{name:"BaseFieldSchema",elements:[{name:"TCustom"}],raw:"BaseFieldSchema<TCustom>"},{name:"SelectFieldSchema",elements:[{name:"TCustom"}],raw:"SelectFieldSchema<TCustom>"},{name:"HasFields",elements:[{name:"TCustom"}],raw:"HasFields<TCustom>"}]},description:""}}};const we=V.memo(e=>{const{schema:s}=e;return s.map(t=>p.jsx(Bt,{fieldSchema:t},t.name))});function Fs(e,s){const t=a=>/^\d+$/.test(a),n=e.split(".");let o=s;for(const a of n){if(o==null)return;const u=t(a)?Number(a):a;o=o[u]}return o}const gs=e=>{const{onDirtyChange:s,onValuesChange:t,onFieldChange:n}=e,{formState:o,watch:a}=oe(),u=U.useRef(!0);return U.useEffect(()=>{const c=a((g,{name:v=""})=>{var w;t(g);const k=Ie(v),C=Fs(v,g);(w=n==null?void 0:n[k])==null||w.call(n,v,C,g)});return()=>c.unsubscribe()},[a,t]),U.useEffect(()=>{if(u.current){u.current=!1;return}s(o.isDirty)},[o.isDirty,s]),null},Cs=({onValuesChange:e,onDirtyChange:s,onFieldChange:t})=>(gs({onDirtyChange:s,onValuesChange:e,onFieldChange:t}),null),Ts=V.forwardRef((e,s)=>{const{schema:t,onSubmit:n,uiConfig:o={renderersByName:{},renderersByType:{}},updateFieldSchema:a={},layout:u="vertical",values:c=()=>({}),hideSubmit:g=!1,onDirtyChange:v=()=>{},onValuesChange:k=()=>{},resolver:C,readonly:w,onFieldChange:F={}}=e,B=us({reValidateMode:"onSubmit",criteriaMode:"all",resolver:C}),j=U.useRef(!1),M=B.handleSubmit(n),N=U.useMemo(()=>{let E=t;return w&&(E=Vt(E)),E},[w,t]);U.useEffect(()=>{if(j.current)return;let E=!1;return(async()=>{const se=await c();E||(B.reset(ve(t,se)),j.current=!0)})(),()=>{E=!0}},[c,t]),U.useImperativeHandle(s,()=>({submit:async()=>{await B.handleSubmit(n)()},reset:E=>{B.reset(E?ve(t,E):void 0)},getValues:()=>B.getValues(),setValue:(E,ae)=>{B.setValue(E,ae)}}));const T=g||w,$=U.useMemo(()=>o,[o]),D=U.useMemo(()=>a,[a]),R=U.useMemo(()=>({layout:u,uiConfig:o,updateFieldSchema:a}),[u,o,a]);return p.jsxs(zt,{...B,children:[p.jsx(Cs,{onDirtyChange:v,onValuesChange:k,onFieldChange:F}),p.jsxs(pt,{layout:R.layout,uiConfig:$,updateFieldSchema:D,children:[["vertical","horizontal"].includes(u)&&p.jsx("div",{style:{display:"flex",flexDirection:u==="vertical"?"column":"row"},children:p.jsx(we,{schema:N})}),u==="custom"&&p.jsx(we,{schema:N}),!T&&p.jsx("button",{style:{marginTop:"1rem"},onClick:M,children:"Submit"})]})]})});Ts.__docgenInfo={description:"",methods:[{name:"submit",docblock:null,modifiers:["async"],params:[],returns:null},{name:"reset",docblock:null,modifiers:[],params:[{name:"values",optional:!0,type:{name:"any"}}],returns:null},{name:"getValues",docblock:null,modifiers:[],params:[],returns:null},{name:"setValue",docblock:null,modifiers:[],params:[{name:"name",optional:!1,type:null},{name:"value",optional:!1,type:null}],returns:null}],displayName:"AutoForm",props:{schema:{required:!0,tsType:{name:"Array",elements:[{name:"union",raw:`| BaseFieldSchema<TCustom>
| SelectFieldSchema<TCustom>
| HasFields<TCustom>`,elements:[{name:"BaseFieldSchema",elements:[{name:"TCustom"}],raw:"BaseFieldSchema<TCustom>"},{name:"SelectFieldSchema",elements:[{name:"TCustom"}],raw:"SelectFieldSchema<TCustom>"},{name:"HasFields",elements:[{name:"TCustom"}],raw:"HasFields<TCustom>"}]}],raw:"FieldSchema<TCustom>[]"},description:""},onSubmit:{required:!0,tsType:{name:"signature",type:"function",raw:"(values: FormValues) => void",signature:{arguments:[{type:{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},name:"values"}],return:{name:"void"}}},description:""},layout:{required:!1,tsType:{name:"union",raw:"'vertical' | 'horizontal' | 'custom'",elements:[{name:"literal",value:"'vertical'"},{name:"literal",value:"'horizontal'"},{name:"literal",value:"'custom'"}]},description:""},uiConfig:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  renderersByName?: CustomRender<TCustom>;
  renderersByType?: CustomRender<TCustom>;
}`,signature:{properties:[{key:"renderersByName",value:{name:"Record",elements:[{name:"string"},{name:"ReactComponentType",raw:"React.ComponentType<CustomFieldRendererProps<TCustom>>",elements:[{name:"signature",type:"object",raw:`{
  fieldSchema: FieldSchema<TCustom>;
  register: UseFormRegisterReturn<string>;
  control: Control<FormValues>;
}`,signature:{properties:[{key:"fieldSchema",value:{name:"union",raw:`| BaseFieldSchema<TCustom>
| SelectFieldSchema<TCustom>
| HasFields<TCustom>`,elements:[{name:"BaseFieldSchema",elements:[{name:"TCustom"}],raw:"BaseFieldSchema<TCustom>"},{name:"SelectFieldSchema",elements:[{name:"TCustom"}],raw:"SelectFieldSchema<TCustom>"},{name:"HasFields",elements:[{name:"TCustom"}],raw:"HasFields<TCustom>"}],required:!0}},{key:"register",value:{name:"UseFormRegisterReturn",elements:[{name:"string"}],raw:"UseFormRegisterReturn<string>",required:!0}},{key:"control",value:{name:"Control",elements:[{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"}],raw:"Control<FormValues>",required:!0}}]}}]}],raw:`Record<
  string,
  React.ComponentType<CustomFieldRendererProps<TCustom>>
>`,required:!1}},{key:"renderersByType",value:{name:"Record",elements:[{name:"string"},{name:"ReactComponentType",raw:"React.ComponentType<CustomFieldRendererProps<TCustom>>",elements:[{name:"signature",type:"object",raw:`{
  fieldSchema: FieldSchema<TCustom>;
  register: UseFormRegisterReturn<string>;
  control: Control<FormValues>;
}`,signature:{properties:[{key:"fieldSchema",value:{name:"union",raw:`| BaseFieldSchema<TCustom>
| SelectFieldSchema<TCustom>
| HasFields<TCustom>`,elements:[{name:"BaseFieldSchema",elements:[{name:"TCustom"}],raw:"BaseFieldSchema<TCustom>"},{name:"SelectFieldSchema",elements:[{name:"TCustom"}],raw:"SelectFieldSchema<TCustom>"},{name:"HasFields",elements:[{name:"TCustom"}],raw:"HasFields<TCustom>"}],required:!0}},{key:"register",value:{name:"UseFormRegisterReturn",elements:[{name:"string"}],raw:"UseFormRegisterReturn<string>",required:!0}},{key:"control",value:{name:"Control",elements:[{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"}],raw:"Control<FormValues>",required:!0}}]}}]}],raw:`Record<
  string,
  React.ComponentType<CustomFieldRendererProps<TCustom>>
>`,required:!1}}]}},description:""},updateFieldSchema:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  [key: string]: (
    path: string,
    fieldSchema: FieldSchema<TCustom>,
    values: FormValues
  ) => FieldSchema<TCustom> | Promise<FieldSchema<TCustom>>;
}`,signature:{properties:[{key:{name:"string"},value:{name:"signature",type:"function",raw:`(
  path: string,
  fieldSchema: FieldSchema<TCustom>,
  values: FormValues
) => FieldSchema<TCustom> | Promise<FieldSchema<TCustom>>`,signature:{arguments:[{type:{name:"string"},name:"path"},{type:{name:"union",raw:`| BaseFieldSchema<TCustom>
| SelectFieldSchema<TCustom>
| HasFields<TCustom>`,elements:[{name:"BaseFieldSchema",elements:[{name:"TCustom"}],raw:"BaseFieldSchema<TCustom>"},{name:"SelectFieldSchema",elements:[{name:"TCustom"}],raw:"SelectFieldSchema<TCustom>"},{name:"HasFields",elements:[{name:"TCustom"}],raw:"HasFields<TCustom>"}]},name:"fieldSchema"},{type:{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},name:"values"}],return:{name:"union",raw:"FieldSchema<TCustom> | Promise<FieldSchema<TCustom>>",elements:[{name:"union",raw:`| BaseFieldSchema<TCustom>
| SelectFieldSchema<TCustom>
| HasFields<TCustom>`,elements:[{name:"BaseFieldSchema",elements:[{name:"TCustom"}],raw:"BaseFieldSchema<TCustom>"},{name:"SelectFieldSchema",elements:[{name:"TCustom"}],raw:"SelectFieldSchema<TCustom>"},{name:"HasFields",elements:[{name:"TCustom"}],raw:"HasFields<TCustom>"}]},{name:"Promise",elements:[{name:"union",raw:`| BaseFieldSchema<TCustom>
| SelectFieldSchema<TCustom>
| HasFields<TCustom>`,elements:[{name:"BaseFieldSchema",elements:[{name:"TCustom"}],raw:"BaseFieldSchema<TCustom>"},{name:"SelectFieldSchema",elements:[{name:"TCustom"}],raw:"SelectFieldSchema<TCustom>"},{name:"HasFields",elements:[{name:"TCustom"}],raw:"HasFields<TCustom>"}]}],raw:"Promise<FieldSchema<TCustom>>"}]}},required:!0}}]}},description:""},values:{required:!1,tsType:{name:"signature",type:"function",raw:"() => FormValues | Promise<FormValues>",signature:{arguments:[],return:{name:"union",raw:"FormValues | Promise<FormValues>",elements:[{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},{name:"Promise",elements:[{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"}],raw:"Promise<FormValues>"}]}}},description:""},hideSubmit:{required:!1,tsType:{name:"boolean"},description:""},onDirtyChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(isDirty: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"isDirty"}],return:{name:"void"}}},description:""},onValuesChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(values: FormValues) => void",signature:{arguments:[{type:{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},name:"values"}],return:{name:"void"}}},description:""},resolver:{required:!1,tsType:{name:"Resolver",elements:[{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},{name:"any"},{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"}],raw:"Resolver<FormValues, any, FormValues>"},description:""},readonly:{required:!1,tsType:{name:"boolean"},description:""},onFieldChange:{required:!1,tsType:{name:"Record",elements:[{name:"string"},{name:"signature",type:"function",raw:"(path: string, value: any, values: FormValues) => void",signature:{arguments:[{type:{name:"string"},name:"path"},{type:{name:"any"},name:"value"},{type:{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},name:"values"}],return:{name:"void"}}}],raw:"Record<string, (path: string, value: any, values: FormValues) => void>"},description:""}}};export{Ts as A};
